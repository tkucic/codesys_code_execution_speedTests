# Codesys Code Execution Speed Tests | [MAIN] | [NAMESPACES] | [METRICS] | [BACK]  

## Documentation for Program x06_Combine2xByteToUint  

```pascal
//  
INTERFACE
    VAR CONSTANT
        cNrRuns : subrangeSigned := 5;
        cRepeatCalcTimes : UDINT := 1000000; (*1 Million times*)
    END_VAR
    VAR_INPUT 
        vStart : BOOL := FALSE;
    END_VAR
    VAR 
        vDone : BOOL := FALSE;
        vRunsCompleted : USINT := 0;
        vStartTime : LTIME;
        vTotalTime : LTIME;
        vTest1 : dtSpeedTest;
        vTest2 : dtSpeedTest;
        vTest3 : dtSpeedTest;
        i : UDINT;
        vSHRInteger : UINT; (*Test vars*)
        vMcpyInteger : UINT;
        vManualCpyInt : UINT;
        vBuffer : ARRAY[0..1] OF USINT := ['16#55', '16#AA'];
        vSHLOldTime : LTIME;
        vMcpyOldTime : LTIME;
        vSHLExecTime : LTIME;
        vMcpyExecTime : LTIME;
    END_VAR
END_INTERFACE
PROGRAM x06_Combine2xByteToUint:
    (*Runs once on event's rising edge*)
    vDone 		:= FALSE;
    vStartTime 	:= LTIME();

    FOR vRunsCompleted:=0 TO cNrRuns DO
    	Measure();
    END_FOR

    vTotalTime := LTIME() - vStartTime;

    vTest1.Desc				:= 'Assembling an integer from two bytes (SHL), 1 milion times';
    vTest1.AverageExecTime 	:= calcAvg(vTest1.Results);
    vTest2.Desc				:= 'Assembling an integer from two bytes (SysMemCpy), 1 milion times';
    vTest2.AverageExecTime 	:= calcAvg(vTest2.Results);
    vTest3.Desc				:= 'Assembling an integer from two bytes by manually copying bits, 1 milion times';
    vTest3.AverageExecTime 	:= calcAvg(vTest3.Results);
    	
    vDone := TRUE;
    vStart:= FALSE;

END_PROGRAM
ACTION Measure:
    //-------Assemble an UINT from two USINTs using SHL operator
    vTest1.OldTime := LTIME();
    FOR i:= 0 TO cRepeatCalcTimes DO
    	vSHRInteger := vBuffer[0] + SHL(vBuffer[1],8);
    END_FOR
    vTest1.ExecTime := LTIME() - vTest1.OldTime;

    //-------Assemble an UINT from two USINTs using MemCpy
    vTest2.OldTime := LTIME();
    FOR i:= 0 TO cRepeatCalcTimes DO
    	SysMemCpy(ADR(vMcpyInteger), ADR(vBuffer) , SIZEOF(vMcpyInteger));
    END_FOR
    vTest2.ExecTime := LTIME() - vTest2.OldTime;

    //-------Assemble an UINT from two USINTs by manually copying bits
    vTest3.OldTime := LTIME();
    FOR i:= 0 TO cRepeatCalcTimes DO
    	vManualCpyInt.0 := vBuffer[0].0;
    	vManualCpyInt.1 := vBuffer[0].1;
    	vManualCpyInt.2 := vBuffer[0].2;
    	vManualCpyInt.3 := vBuffer[0].3;
    	vManualCpyInt.4 := vBuffer[0].4;
    	vManualCpyInt.5 := vBuffer[0].5;
    	vManualCpyInt.6 := vBuffer[0].6;
    	vManualCpyInt.7 := vBuffer[0].7;
    	
    	vManualCpyInt.8 := vBuffer[1].0;
    	vManualCpyInt.9 := vBuffer[1].1;
    	vManualCpyInt.10 := vBuffer[1].2;
    	vManualCpyInt.11 := vBuffer[1].3;
    	vManualCpyInt.12 := vBuffer[1].4;
    	vManualCpyInt.13 := vBuffer[1].5;
    	vManualCpyInt.14 := vBuffer[1].6;
    	vManualCpyInt.15 := vBuffer[1].7;

    END_FOR
    vTest3.ExecTime := LTIME() - vTest3.OldTime;

    //Results
    vTest1.Results[vRunsCompleted] := vTest1.ExecTime;
    vTest2.Results[vRunsCompleted] := vTest2.ExecTime;
    vTest3.Results[vRunsCompleted] := vTest3.ExecTime;
END_ACTION
```

## Metrics  

- VAR : 2
- VAR_INPUT : 1
- VAR : 16

| Actions | Methods | Lines of code | Lines of comments | Lines in total | Maintainable size |
| ------- | ------- | ------------- | ----------------- | -------------- | ----------------- |
| 1 | 0 | 47 |5 |61 | 67 |

---
Autogenerated with [ia_tools](https://github.com/tkucic/ia_tools)  

[MAIN]: ../../../../index_st.md
[NAMESPACES]: ../../nsList_st.md
[METRICS]: ../../../metrics_st.md
[BACK]: ../nsMain_st.md
