# Codesys Code Execution Speed Tests | [MAIN] | [NAMESPACES] | [METRICS] | [BACK]  

## Documentation for Program x10_3_BitMath  

```pascal
INTERFACE
    VAR CONSTANT
        cNrRuns : subrangeSigned := 5;
        cRepeatCalcTimes : UDINT := 1000000; (*1 Million times*)
    END_VAR
    VAR 
        vRunsCompleted : USINT := 0;
        vStartTime : LTIME;
        vTotalTime : LTIME;
        vStart : BOOL := TRUE;
        vTest1 : dtSpeedTest;
        vTest2 : dtSpeedTest;
        vTest3 : dtSpeedTest;
        i : UDINT;
        vCodesysBits : dtBitStruct; (*Test vars*)
        vNormalInt : UINT := 2#11;
        vNormalInt2 : UINT := 2#11;
        vNormalInt3 : UINT := 2#11;
    END_VAR
END_INTERFACE
PROGRAM x10_3_BitMath:
    IF vStart THEN
    	vStartTime := LTIME();
    	vStart := FALSE;
    END_IF
    IF vRunsCompleted > cNrRuns THEN
    	IF vTotalTime = LTIME#0S THEN
    		vTotalTime := LTIME() - vStartTime;
    	END_IF
    	vTest1.AverageExecTime := calcAvg(vTest1.Results); //Time to and two bits and save it to another bit 1 Million times using codesys bit struct
    	vTest2.AverageExecTime := calcAvg(vTest2.Results); //Time to and two bits and save it to another bit 1 Million times using . notation
    	vTest3.AverageExecTime := calcAvg(vTest3.Results); //Time to and two bits and save it to another bit 1 Million times using bit masking
    	
    	RETURN;
    END_IF

    //------------CALCULATION A -------------------
    vTest1.OldTime := LTIME();
    FOR i:= 0 TO cRepeatCalcTimes DO
    	setBitToValue_bitStruct(vCodesysBits, 2, checkBit_bitStruct(vCodesysBits, 0) AND checkBit_bitStruct(vCodesysBits, 1));
    END_FOR
    vTest1.ExecTime := LTIME() - vTest1.OldTime;

    //------------CALCULATION B -------------------
    vTest2.OldTime := LTIME();
    FOR i:= 0 TO cRepeatCalcTimes DO
    	setBitToValue_dotNot(vNormalInt, 2, checkBit_dotNot(vNormalInt, 0) AND checkBit_dotNot(vNormalInt, 1));
    END_FOR
    vTest2.ExecTime := LTIME() - vTest2.OldTime;

    //------------CALCULATION C -------------------
    vTest3.OldTime := LTIME();
    FOR i:= 0 TO cRepeatCalcTimes DO
    	setBitTovalue_bitmask(vNormalInt2, 2, checkBit_bitmask(vNormalInt2, 0) AND checkBit_bitmask(vNormalInt2, 1));
    END_FOR
    vTest3.ExecTime := LTIME() - vTest3.OldTime;


    //------------CATCH RESULTS---------------------
    vTest1.Results[vRunsCompleted] := vTest1.ExecTime;
    vTest2.Results[vRunsCompleted] := vTest2.ExecTime;
    vTest3.Results[vRunsCompleted] := vTest3.ExecTime;

    vRunsCompleted := vRunsCompleted + 1;

END_PROGRAM
```

## Metrics  

- VAR : 2
- VAR : 12

| Actions | Methods | Lines of code | Maintainable size |
| ------- | ------- | ------------- | ----------------- |
| 0 | 0 | 43 | 57 |

---
Autogenerated with [ia_tools](https://github.com/tkucic/ia_tools)  

[MAIN]: ../../../../index_st.md
[NAMESPACES]: ../../nsList_st.md
[METRICS]: ../../../metrics_st.md
[BACK]: ../nsMain_st.md
